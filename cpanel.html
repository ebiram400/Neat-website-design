<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link href="./bootstrap-5.0.2-dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="./tinymce/tinymce.min.js" referrerpolicy="origin"></script>
    <link rel="stylesheet" href="./cpanel.css">
    <title>پنل مدیریت</title>
</head>

<body>
    <div class="d-md-flex justify-content-center base">
        <!--------------------------main----------------------->
        <div class="col-md-9 col-11 text-center ms-auto me-auto main">
            <img class="col-2 mt-3 mb-3" src="./front-react/public/images/logo-novin.png">
            <div class="border border-1 rounded-4 border-dark p-4 main mb-6">
                <!-----------------------Reports in cpanel----------------->
                <div class="d-flex flex-column align-items-center mb-4">
                    <div class="fs-5 fw-bold rounded-3 mb-3">نام پروژه</div>
                    <div class="fs-7 fw-light mb-2">مراحل: 0-بازدید،1-قرارداد،2-شروع به کار،3-اتمام کار</div>
                    <label for="level" class="fs-7"><input type="text" name="level" id="level" maxlength="1" pattern="[0-3]"> :مرحله فعلی</label>
                </div>
                <button class="text-light bg-green fw-bold p-2 border-0 rounded-3"><span>اضافه کردن گزارش</span> +</button>
                <table class="userTable">
                    <tr>
                        <td>
                            <div class="text-center" id="showReport">نمایش <span
                                    class="material-symbols-outlined d-block">lab_profile</span></div>
                        </td>
                        <td>
                            <div class="text-center" id="clearReport">حذف <span
                                    class="material-symbols-outlined d-block">Delete_Forever</span></div>
                        </td>
                        <td>نام فایل.pdf</td>
                    </tr>
                </table>
            </div>
        </div>
        <!-------------------menu---------------->
        <div class="col-md-2 text-center">
            <div class="d-none d-md-block text-dark fs-1 fw-bold mt-5 mb-5">پنل مدیریت</div>
            <div
                class="text-light bg-dark fs-6 fw-bold rounded-start-4 p-4 mobile-menu d-md-flex flex-md-column align-items-end justify-content-around shadow-menu position-md-sticky">
                <div class="d-flex align-items-center justify-content-center mt-md-3">
                    <span class="d-none d-md-block">نوشته ها</span>
                    <span class="material-symbols-outlined fs-1">edit_note</span>
                </div>
                <div class="d-flex align-items-center justify-content-center mt-md-5">
                    <span class="d-none d-md-block">گالری</span>
                    <span class="material-symbols-outlined fs-1">photo_library</span>
                </div>
                <div class="d-flex align-items-center justify-content-center mt-md-5 mb-md-3">
                    <span class="d-none d-md-block">کارفرما ها</span>
                    <span class="material-symbols-outlined fs-1">person_edit</span>
                </div>
            </div>
        </div>
    </div>
    <!------------js for tinymce---------->
    <script>
        tinymce.init({
            selector: '#mytextarea',
            plugins: 'link image code lists advlist media',
            toolbar: 'undo redo | fontsize fontfamily | bold italic underline | forecolor backcolor | alignleft aligncenter alignright alignjustify | outdent indent | link image media',
            fontsize_formats: '8pt 10pt 12pt 14pt 18pt 24pt 36pt',
            font_formats: 'Arial=arial,helvetica,sans-serif; Courier New=courier new,courier,monospace; Times New Roman=times new roman,times;',
            link_title: true,
            menubar: false,
            automatic_uploads: true,
            image_title: true,
            images_upload_url: 'upload.php',
            file_picker_types: 'image media',
            file_picker_callback: function (cb, value, meta) {
                var input = document.createElement('input');
                input.setAttribute('type', 'file');
                if (meta.filetype === 'image') {
                    input.setAttribute('accept', 'image/*');
                } else if (meta.filetype === 'media') {
                    input.setAttribute('accept', 'video/*,audio/*');
                }

                input.onchange = function () {
                    var file = this.files[0];
                    var reader = new FileReader();
                    reader.onload = function () {
                        var id = 'blobid' + (new Date()).getTime();
                        var blobCache = tinymce.activeEditor.editorUpload.blobCache;
                        var base64 = reader.result.split(',')[1];
                        var blobInfo = blobCache.create(id, file, base64);
                        blobCache.add(blobInfo);
                        cb(blobInfo.blobUri(), { title: file.name });
                    };
                    reader.readAsDataURL(file);
                };

                input.click();
            },
            content_style: 'body { font-family: Arial, sans-serif; direction: rtl; text-align: right; }',
            language: 'fa',
            directionality: 'rtl',
            language_url: '/tinymce/langs/fa.js',
            license_key: 'gpl',
        });

        function getEditorContent() {
            var content = tinymce.get('mytextarea').getContent();
            alert(content);
        }
    </script>
    <!---------js for upload picture page one--------->
    <script>
        let newpic = document.getElementById("newpic");
        let oldpic = document.getElementsByClassName("oldpic");
        for (let i = 0; i <= 1; i++) {
            oldpic[i].addEventListener("click", e => {
                console.log(e.target.src);
            })
        }

    </script>
</body>

</html>